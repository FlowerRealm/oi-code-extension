# OI-Code

这已经是中文版本
[![English Documentation](https://img.shields.io/badge/English-Documentation-blue.svg)](../../README.md)

OI-Code 是一个为竞技编程者和学生设计的 Visual Studio Code 扩展，帮助练习编程题目。它提供了一个简化的工作流程，用于在受控的 Docker 环境中编写、编译、运行和测试代码。

## 功能特性

- **基于 Docker 的执行**：所有代码都在隔离的 Docker 容器中运行，以确保安全性和一致性。
- **多语言支持**：开箱即用地支持 C、C++ 和 Python。
- **题目管理**：创建和组织编程题目及其元数据。
- **对拍功能**：比较两种不同实现的输出（例如，暴力解法与优化解法）。
- **资源限制**：强制执行时间和内存限制以进行公平评估。
- **Webview 集成**：为题目描述和设置提供丰富的 UI。
- **容器池优化**：复用 Docker 容器以提高性能，减少执行延迟。

## 环境要求

- 系统上必须安装并运行 Docker。
- Visual Studio Code 1.60.0 或更高版本。

## 安装

1. 在您的系统上安装 Docker。
2. 从 VS Code 市场安装此扩展。
3. 扩展将在首次使用时自动初始化 Docker 环境。

## 使用方法

### 运行代码

1. 在 VS Code 中打开一个 C、C++ 或 Python 文件。
2. 使用命令面板（`Ctrl+Shift+P`）运行 `OI-Code: Run Code`。
3. 在提示时输入程序的输入。
4. 在新面板中查看输出。

### 对拍功能

1. 在 VS Code 中打开同一问题的两个实现。
2. 使用命令面板（`Ctrl+Shift+P`）运行 `OI-Code: Run Pair Check`。
3. 在提示时输入测试输入。
4. 并排比较输出，差异部分会被高亮显示。

### 题目管理

1. 使用 `OI-Code: Create Problem` 创建新的题目结构。
2. 在侧边栏视图中填写题目详细信息。
3. 直接从题目视图保存并运行您的解决方案。

## 扩展设置

此扩展提供了以下设置：

- `oicode.docker.compilers`：为不同语言自定义 Docker 镜像。
- `oicode.compile.opt`：C/C++ 编译的默认优化级别。
- `oicode.compile.std`：C++ 编译的默认标准。

## 性能优化

### 容器池
最新版本引入了容器池优化，通过复用 Docker 容器来显著提高代码执行性能：
- 预启动容器以减少执行延迟
- 智能容器管理，包括健康检查和超时清理
- 自动回退机制，确保在容器池出现问题时仍能正常工作

### 安全改进
- 防止 shell 注入攻击的安全输入处理
- 严格的资源限制以防止系统资源耗尽
- 改进的错误处理和日志记录

### 代码质量改进 (v0.0.2)
- **国际化代码注释**：所有中文注释已翻译为英文，提升代码可读性
- **代码结构优化**：清理冗余代码，整合重复逻辑，改善错误处理
- **项目结构规范**：修复构建产物位置，确保正确的目录结构
- **文档完善**：更新项目文档以反映最新改进
- **构建系统改进**：清理编译产物并优化.gitignore配置

## 已知问题

- 首次运行时 Docker 初始化可能需要一些时间。
- 大量输出可能导致输出面板中的性能问题。

## 版本说明

### 0.0.1

OI-Code 的初始版本，具有基本功能。

## 贡献

有关如何为此项目做出贡献的详细信息，请参见 `./CONTRIBUTING.md` 或主目录下的 `CONTRIBUTING.md`。

## 许可证

本项目根据 MIT 许可证授权 - 有关详细信息，请参见 [LICENSE](LICENSE) 文件。
